---
permalink: admin/grid-federation-workflow.html
sidebar: sidebar
keywords: grid federation workflow, cross-grid replication, account clone, cgr, disaster recovery
summary: 'These workflow diagrams summarize the steps that grid admins and tenant users will follow when configuring grid federation,account clone, and cross grid replication.'
---
= Grid federation workflow diagrams
:icons: font
:imagesdir: ../media/

[.lead]
These workflow diagrams summarize the steps that grid admins and tenant users will follow when configuring <<workflow_gf,grid federation>>, <<workflow_ac,account clone>>, and <<workflow_cgr,cross-grid replication>>.

== [[workflow_gf]]Workflow for grid federation connection

This workflow diagram shows the steps that grid administrators on both grids will perform to create and manage a grid federation connection.

image:../media/grid-federation-workflow.png[Grid federation workflow]

.Learn how

* xref:grid-federation-create-connection.adoc[Create grid federation connections] 
* xref:grid-federation-manage-connections.adoc[Manage grid federation connections]
* xref:grid-federation-troubleshoot.adoc[Troubleshoot grid federation errors]

== [[workflow_ac]]Workflow for account clone

This workflow diagram shows the steps that grid administrators and permitted tenants will perform to set up account clone. These steps can only be performed after the grid federation connection is configured.

image:../media/grid-federation-account-clone-workflow.png[workflow for cross-grid replication]

As the diagram shows:

. The grid admin creates one or more grid federation connections between StorageGRID system.

. If either StorageGRID system in the connection uses single sign-on (SSO), the grid admin must configure the same identity source and the same SSO identity provider on both grids.

. If either StorageGRID system in the connection uses identity federation (but not SSO), the grid admin must configure the same identity source on both grids.

. The grid admin creates a new tenant account and adds the *Use grid federation connection* permission for a specific grid federation connection. Optionally, the new tenant can be assigned the *Use own identity source* permission if the account needs to configure and manage its own identity source for federated groups and users.  

. When the new tenant is saved, StorageGRID automatically creates a replica of that tenant on the other grid.

. The tenant root use signs in to Tenant Manager on the source grid.

. If the tenant has permission to *Use own identity source*, the tenant root user configures the same identity source on both the source and destination grids.

. The tenant root user imports federated groups or creates local groups and users.

. When new groups are imported or new groups and users are created on the source grid, StorageGRID automatically clones these items to the destination grid.

. Tenant users can sign in to the source grid to create new S3 access keys and optionally clone these keys to the destination grid.


.Learn how

* xref:grid-federation-manage-tenants.adoc[Manage permitted tenants] 
* xref:../tenant/grid-federation-use-account-clone.adoc[Use account clone]


== [[workflow_cgr]]Workflow for cross-grid replication

This workflow diagram shows the steps that permitted tenants will perform to configure cross-grid replication between buckets on two grids. 

image:../media/grid-federation-cgr-workflow.png[Cross-grid replication workflow]

.Learn how

* xref:../tenant/grid-federation-manage-cross-grid-replication.adoc[Manage cross-grid replication]

